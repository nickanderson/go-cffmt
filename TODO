TODO:

1. multiline comments need some work. We need to know if
    a) multiline
    b) at EOL or first non-space on the line.
2. some files (forgot which ones) are ugly pretty printed
   mostly to do with comments in list or functions

It might be a good idea to _not_ have any comments print their newlines and just add them
as we see fit...

# Write detection stuff

promise guards with zero children should be removed - except we don't store them with children
so hard to - cf-promise -pjson can help maybe

If you have only single line constraint it would be nice to suppress the newline between them
